# CLAUDE.md

このファイルは、このリポジトリで作業する際のClaude Code (claude.ai/code) への指針を提供します。

## プロジェクト概要

株式会社たんたん×すするが開発する、大企業における新規事業開発担当者を対象としたWebアプリケーションプロジェクトです。担当者が着想した新規事業のアイデアを事業企画にまで落とし込むプロセスを伴走・支援することを目的としています。

### プロジェクトの背景
大企業のアイディエーションフェーズでの新規事業開発における課題：
- **新規事業のアイデアが生み出せない**（判断軸不明確、選定基準不明確）
- **思いついたアイデアを事業企画にまで落とし込めない**（経営陣とのコミュニケーション、部署間情報格差、技術的実現可能性、資料作成、類似事例探索、インサイト特定等の障壁）

### 中心機能
生成AIとの壁打ちによって、インタラクティブにユーザーのリーンキャンバスを更新する機能

### 目標とスコープ
大企業の新規事業開発担当者に対して、アイデアから事業企画に至るまでの障壁を取り払い、アイデアの精緻化を迅速に実行できる価値を提供する。

### 今回の開発スコープ
MVPの一部機能として、**ログイン機能の開発**を担当

### 技術スタック
- **フロントエンド**: Next.js (Reactベースのwebアプリケーション)
- **バックエンド**: FastAPI (Python)
- **データベース**: MySQL
- **対象環境**: PC向けWebアプリケーション (Windows 10/11, Mac)

### 主要要件

#### Must要件 (必須実装)
1. 新規登録画面と機能
   - ユーザーID: 一意の整数値通し番号（自動採番）
   - メールアドレス: 一意性確認
   - パスワード: 半角英数字および記号(!#$%^&*)、8文字以上
   - データベーステーブル: users, sessions

2. ログイン画面と機能
   - HttpOnly属性付きCookieベース認証
   - セッション管理
   - 認証エラーハンドリング
   - 認証済みユーザーのリダイレクト処理

#### Want要件 (任意実装)
- 登録完了ポップアップ
- パスワード複雑性検証
- パスワードハッシュ化
- アカウントロック (3回失敗で5分間)
- SQLインジェクション対策
- 自動ログアウト (15分間非操作)
- CAPTCHA ボット対策
- ブルートフォース攻撃対策

### プロジェクト構造
```
tantanRFP/
├── frontend/          # Next.jsアプリケーション
├── backend/           # FastAPIアプリケーション
└── database/          # SQLスキーマとマイグレーション
```

### 開発コマンド

新規プロジェクトのため、セットアップ後に以下のコマンドが確立されます:

#### フロントエンド (Next.js)
```bash
cd frontend
npm run dev          # 開発サーバー
npm run build        # 本番ビルド
npm run lint         # ESLint
npm run type-check   # TypeScript型チェック
```

#### バックエンド (FastAPI)
```bash
cd backend
uvicorn main:app --reload    # 開発サーバー
python -m pytest            # テスト実行
```

#### データベース
```bash
# ローカルMySQLサーバーを使用
mysql -u root -p             # MySQL接続
```

### セキュリティ要件
- パスワード保存は必ずハッシュ化
- Cookie認証にはHttpOnly属性必須
- SQLインジェクション対策必須
- 全ユーザー入力の検証
- セッション管理と自動ログアウト機能

### 納品要件
- 指定GitHubリポジトリへのソースコード納品
- テスト実施報告書（テスト内容、入力データ、期待結果、実際の結果）
- 納期: 2025年7月31日
